tenets:
  - name: append-test
    flows:
      codelingo/docs:
        title: Append Test
        body: "change test names"
      codelingo/rewrite:
        name: "Test{{name}}" # TODO: support modifiers here e.g. {{toUpper(name)}} where toUpper is a defined function.
        comment: "// Test is some kind of test"
    query: |
      import codelingo/ast/go

      @rewrite.prepend.line.comment
      go.func_decl(depth = any):
        @rewrite.replace.name
        go.ident:
          @rewrite.vars.name
          name
